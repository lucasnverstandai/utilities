jQuery.htmlPrefilter=function(e){return e};const visObject={options:{info:{type:"boolean",label:"Show Row count",section:"Options",display:"radio",default:!1},ordering:{type:"boolean",label:"Show Ordering",section:"Options",display:"radio",default:!1},paging:{type:"boolean",label:"Paginate Data",section:"Options",display:"radio",default:!1},searching:{type:"boolean",label:"Search Data",section:"Options",display:"radio",default:!1},transpose:{type:"boolean",label:"Transpose Data",section:"Options",display:"radio",default:!1},display_style:{type:"string",label:"Style",section:"Style",values:[{None:""},{Normal:"display"},{Hover:"hover"},{Compact:"display compact"},{"Cell border":"cell-border"},{"Row border":"row-border"},{Stripe:"stripe"},{Bulma:"table is-striped"}],display:"select",default:"display"},row_grouping:{type:"boolean",label:"Group Row",section:"Options",display:"radio",default:!1},row_grouping_on_row:{type:"number",label:"Group Row",section:"Options",display:"text",placeholder:1,default:1}},create:function(e,a){$("head").append('<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">'),$("head").append('<style>#vis{font-size:12px;font-family:"Google Sans", Roboto, "Noto Sans JP", "Noto Sans", "Noto Sans CJK KR", Helvetica, Arial, sans-serif;font-weight:100;}</style>')},generateTable:function(e,a){var o='<table id="example" class=" '+a+' style="width:100%" >\n        <thead>\n            <tr>\n';e.forEach(e=>{o+="                <th>"+e.name+"</th>\n"}),o+="            </tr>\n        </thead>\n        <tbody>\n            <tr>\n            </tr>\n        </tbody>\n        <tfoot>\n        </tfoot>\n    </table>",$("#vis").html(o)},updateAsync:function(e,a,o,t,l,n){let r=t.fields.dimensions,s=t.fields.measures,i=r.concat(s),d=o,p=[],c=[],u=[];if(!0===d.transpose){var f={};({}).Fields="field",f.lookup="field",f.data="field",f.name="Fields",c.push(f),e.forEach(function e(a,o){var t={};({}).Value=o+"_value",t.lookup=o,t.data="value",t.name="",c.push(t)}),i.forEach((a,o)=>{e.forEach(function e(t){let l={};l.field=a.label_short,l.value=t[a.name].value,u[o]=l})})}else i.forEach(e=>{var a={},o={};a[e.label_short]=e.name,o.lookup=e.name,o.data=e.name.replace(".","_"),o.name=e.label_short,p.push(a),c.push(o)}),e.forEach(e=>{let a={};c.forEach(o=>{a[o.data.replace(".","_")]=e[o.lookup].value}),u.push(a)});this.generateTable(c,d.display_style);var h={autoWidth:!1,info:d.info,ordering:d.ordering,paging:d.paging,searching:d.searching,displayLength:25,data:u,aoColumns:c};if(d.row_grouping){var b=d.row_grouping_on_row;h.order=[[b,"asc"]],h.columnDefs=[{visible:!1,targets:b}],h.drawCallback=function(e){if(d.row_grouping){var a=this.api(),o=a.rows({page:"current"}).nodes(),t=null;a.column(b,{page:"current"}).data().each(function(e,a){t!==e&&($(o).eq(a).before('<tr class="group"><td colspan="'+c.length+'">'+e+"</td></tr>"),t=e)})}}}var g=$("#example").dataTable(h);g=g.DataTable,d.row_grouping&&$("#example tbody").on("click","tr.group",function(){var e=g.order()[0];e[0]===b&&"asc"===e[1]?g.order([b,"desc"]).draw():g.order([b,"asc"]).draw()}),n()}};looker.plugins.visualizations.add(visObject);